# Техническое задание
## 1. Описание системы #
Онлайн форум "Ленина Паркет". Система будет предназначена для общения пользователей на различные темы и поддержки различных обсуждений. Каждый пользователь может создать вопрос (тему, обсуждение) и общаться по этому и иным вопросам с другими пользователями путем оставления комментариев к вопросу.
## 2. Функциональные требования #
### Механизм авторизации пользователей:
  - регистрация, авторизация
### Пользовательский интерфейс:
  - просмотр обсуждений в хронологическом порядке
  - просмотр обсуждений созданных пользователем
  - возможность оставлять комментарии к обсуждениям
### Панель администратора:
  - информация о всех имеющихся пользователях
  - информация о всех имеющихся обсуждениях
  - возможность блокировки и разблокировки обсуждений
  - блокировка и разблокировка пользователей  
### Распределение ролей:
  - Пользователь - доступ к пользовательскому интерфесу.
  - Администратор - доступ к пользовательскому интерфесу и панели администратора.
## 3. Технологический стэк #
- Фронт: html/css, javascript
- PHP: обращение к серверу базы данных
- jQuery: AJAX запросы
- база данных: PostgreSQL
# Пояснительная записка
## Развертывание на примере локального сервера Open server
1. Скачайте репозиторий в папку с доменами:
- git clone https://github.com/udult/onlineforum.git
2. Создайте и импортируйте базу данных postgres (файл /docs/db.sql)
3. В файле /php/connect.php отредактируйте строки:
- $data_base = ' ' ;
- $pg_password = ' ' ;
4. Для корректной работы системы в файле PHP_8.1_php раскомментировать строки:
- ; extension = pdo_pgsql
- ; extension = pgsql
## Использование
### Пользовательские сценарии
1. Начальная страница:\
Попадая на начальную страницу пользователь может зарегестрироваться или зайти в уже существующий аккаунт, если такой имеется. При регестрации имя пользователя должно быть уникальным. После успешной регистрации пользователя перекидывает на начальную страницу, где он может войти в новосозданный аккаунт.
2. Боковое меню:\
Основная навигация по сайту, доступная пользователю.
- RECENT: в этой вкладке пользователь может посмотреть все темы представленные на форуме в хронологическом порядке. В каждую тему можно перейти с помощью кнопки "watch" и оставить свой ответ (комментарий) к выбранному вопросу, заполнив поле "your text..." и нажав кнопку "send".
- NEW QUESTION: здесь пользователь может создать новое обсуждение. При создании обсуждения в полях "new topic..." и "your question..." задается тема и основной вопрос. После нажатия кнопки "ask" пользователь может отследить свой вопрос во вкладке "MY QUESTIONS".
- MY QUESTIONS: все обсуждения созданные пользователем в хронологическом порядке.
- ABOUT: общая информация о форуме.
- LOG OUT: выход из аккаунта. После нажатия этой кнопки вся информация о текущей сессии стирается и чтобы снова попасть в аккаунт пользователю нужно заново авторизовываться.
3. В том случае если пользователь является администратором ему доступна вкладка ADMIN PANEL:\
Тут администратор может банить или разбанивать пользователей и обсуждения. Учетная запись администратора создается вручную путем редактирования столбца user_level в таблице users (0 - обычный пользователь, 1 - администратор). Для каждого пользователя администратору доступны: ID (айди пользователя), USERNAME (имя пользователя), REGISTERED (дата и время регистрации), level (уровень пользователя: 0 - обычный пользователь, 1 - администратор), status (0 - пользователь не забанен, 1 - пользователь не забанен).  Для каждого обсуждения администратору доступны: ID (айди обсуждения), CREATED_BY (пользователь, создавший обсуждения), SUBJECT (тема обсуждения), REALESE_TIME (дата и время создания), status (статус обсуждения: 0 - активно, 1 - заблокировано). Администраторам доступная информация только стандартных пользователей и недоступна информация о других администраторах.
- users available: информация о действующих пользователях. 
- topics: информация о всех обсуждениях представленных на форуме.
- users banned: информация о забаненных пользователях.
